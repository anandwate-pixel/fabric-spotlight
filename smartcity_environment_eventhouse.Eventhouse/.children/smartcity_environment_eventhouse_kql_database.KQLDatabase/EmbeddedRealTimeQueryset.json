{
  "queryset": {
    "version": "1.0.0",
    "dataSources": [
      {
        "id": "276c5e96-2f35-40b6-b776-ca1c9f543dd8",
        "clusterUri": "https://trd-ae12jvuu9v94zdct1t.z8.kusto.fabric.microsoft.com",
        "type": "Fabric",
        "databaseItemId": "95a59856-142f-4816-b816-62754909e164",
        "databaseItemName": "smartcity_environment_eventhouse_kql_database"
      }
    ],
    "tabs": [
      {
        "id": "e7fffe59-8558-45d3-a95a-a2d6636f4621",
        "content": "//***********************************************************************************************************\n// Here are two articles to help you get started with KQL:\n// KQL reference guide - https://aka.ms/KQLguide\n// SQL - KQL conversions - https://aka.ms/sqlcheatsheet\n//***********************************************************************************************************\n\n// Use \"take\" to view a sample number of records in the table and check the data.\nYOUR_TABLE_HERE\n| take 100\n\n// See how many records are in the table.\nYOUR_TABLE_HERE\n| count\n\n// This query returns the number of ingestions per hour in the given table.\nYOUR_TABLE_HERE\n| summarize IngestionCount = count() by bin(ingestion_time(), 1h)\n\n",
        "title": "Tab",
        "dataSourceId": "276c5e96-2f35-40b6-b776-ca1c9f543dd8"
      },
      {
        "id": "6ce10a26-6633-45d1-8097-2c424ddbd62b",
        "content": "// Use 'take' to view a sample number of records in the table and check the data.\nsmartcity_environment_eventhouse_traffic_kqltable\n| take 10000\n",
        "title": "",
        "dataSourceId": "276c5e96-2f35-40b6-b776-ca1c9f543dd8"
      },
      {
        "id": "d620596b-fd11-4edc-914d-9276083ee67d",
        "content": "smartcity_environment_eventhouse_weather_kqltable\n| summarize IngestionCount = count()\n    by Time = bin(ingestion_time(), 1h)\n| extend Table = \"smartcity_weather\"\n| union (\n    smartcity_environment_eventhouse_traffic_kqltable\n    | summarize IngestionCount = count()\n        by Time = bin(ingestion_time(), 1h)\n    | extend Table = \"traffic-smartcity\"\n)\n| order by Time asc\n| render timechart\n    with (\n        title = \"Ingestion Count per Table (Hourly)\",\n        xtitle = \"Ingestion Time\",\n        ytitle = \"Ingestion Count\"\n    )\n",
        "title": "",
        "dataSourceId": "276c5e96-2f35-40b6-b776-ca1c9f543dd8"
      },
      {
        "id": "5dd1d808-1e34-435b-9bdd-685bd2e5fa5b",
        "content": "// Use 'take' to view a sample number of records in the table and check the data.\nsmartcity_environment_eventhouse_weather_kqltable\n| take 100\n",
        "title": "",
        "dataSourceId": "276c5e96-2f35-40b6-b776-ca1c9f543dd8"
      }
    ]
  }
}